digraph CreditTrader{
    node [shape = circle];
    rankdir = LR;
    S0 [color = green, fontcolor = green];
    S4 [color = red, fontcolor = red];

    S0 -> S1 [label = "E0"];
    S1 -> S2 [label = "E1"];
    S2 -> S3 [label = "&#949;"];
    S3 -> S4 [label = "E2"];
    S3 -> S4 [label = "C4"];
    S3 -> S5 [label = "E3"];
    S5 -> S5 [label = "E0, E5,  E6"];
    S5 -> S6 [label = "C0"];
    S5 -> S8 [label = "C1"];
    S6 -> S7 [label = "E5, E7"];
    S7 -> S4 [label = "E2"];    
    S7 -> S5 [label = "E3"];
    S8 -> S4 [label = "E2"]
    S8 -> S4 [label = "E2"];
    S8 -> S9 [label = "E5"];
    S9 -> S2 [label = "C2"];
    S9 -> S5 [label = "!C2 && C3"];
    S9 -> S10 [label = "!C2 && !C3"];
    S10 -> S2 [label = "E4"];
}

[Parameters]
a_security:Security
b_security:Security
a_quantity:integer

[Variables]
a_quantity_filled:integer
a_quantity_not_balanced:integer
a_latest_bbo_bid_price:Money
a_latest_bbo_ask_price:Money
b_latest_bbo_bid_price:Money
b_latest_bbo_ask_price:Money
a_side:Side
b_side:Side
a_order:Order
b_order:Order